var documenterSearchIndex = {"docs":
[{"location":"aggreg/#Aggreg.jl","page":"Aggreg.jl","title":"Aggreg.jl","text":"","category":"section"},{"location":"aggreg/#Inputdata","page":"Aggreg.jl","title":"Inputdata","text":"","category":"section"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"Contains time series data (i.e., respecting a temporal order) with the following attributes:","category":"page"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"region: optional information to specify the region data belongs to\nperiod_from: date(year,month,day,hour) from which the data is from\nperiod_to: date(year,month,day,hour) until which the data is\nresolution: resolution of the original series (e.g., hours, days, weeks, etc.)\nnseries: number of time series inputed (treated separately as if independent from each other)\ndata: Dictionary with an entry for each attribute [file name (attribute: e.g technology)]-[column name (node: e.g. location)], Each entry of the dictionary is a 2-dimensional time-steps T x periods K-Array holding the data","category":"page"},{"location":"aggreg/#SeriesInstance","page":"Aggreg.jl","title":"SeriesInstance","text":"","category":"section"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"Contains the series and respective attributes needed for performing the aggregation with the following attributes: ","category":"page"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"series: original time series\nblock_size: number of clusters to be aggregated at once each iteration\nstopping_k: reduced number of clusters pre-established\ncurrent_k: current number of clusters\ndm: discrepancy metric to be used to measure the difference between clusters to be aggregated\nrep_value: function to assign a representative value for each cluster (by default, the mean of values inside the cluster)\nlseries: length of series\nnseries: number of series","category":"page"},{"location":"aggreg/#ClustInstance","page":"Aggreg.jl","title":"ClustInstance","text":"","category":"section"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"Constains clusters information.","category":"page"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"k_cent: matrix with the representative points for each cluster\nweigths: 1-dimensional periods K-Array with the absolute weight for each period. E.g. for a yearly resolution time series of 365 days, sum(weights) = 365\nseries_clust: clusters assignment for the original series (vector with the from-to relationship between the original series and the clusters)\nnclusters: current number of clusters\nsearchrange: range in which the clusters can be merged, considering the amount of clusters and the blocksize (generally equals to 1: (nclusters-block_size+1))","category":"page"},{"location":"aggreg/#AggregInstance:","page":"Aggreg.jl","title":"AggregInstance:","text":"","category":"section"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"Contains the aggregation instance temporary values.","category":"page"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"merging_ clust\nseries_comp\nkcentcomp","category":"page"},{"location":"aggreg/#aggreg1D","page":"Aggreg.jl","title":"aggreg1D","text":"","category":"section"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"The function aggregates N one-dimensional vectors concomitantly following a marker gave as the input of the function. It assumes the collection of 1D vectors is vertically concatanated so forming a 2D matrix with the first dimension equal to the size of the vectors analysed and the second dimension equal to the number of vectors analysed.","category":"page"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"The function can use the following input:","category":"page"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"series: A collection of vectorsâ€š\nmarker: A vector indicating the assignment of the series\nrep_value: Value to be used for representation of the aggregated interval (we use mean by default)","category":"page"},{"location":"aggreg/#cdad","page":"Aggreg.jl","title":"cdad","text":"","category":"section"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"Function to compute the cumulative distribution absolute difference from vector u to vector v assuming both have an equal mass (i.e., both normalised) and they are ordered.","category":"page"},{"location":"aggreg/#load*series*instance","page":"Aggreg.jl","title":"loadseriesinstance","text":"","category":"section"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"Function to load the data provided and fit into a struct SeriesInstance().","category":"page"},{"location":"aggreg/#load*clust*instance","page":"Aggreg.jl","title":"loadclustinstance","text":"","category":"section"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"Function to load the clusters attributes.","category":"page"},{"location":"aggreg/#search*min*dist","page":"Aggreg.jl","title":"searchmindist","text":"","category":"section"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"Search minimal distance and return the marker, the min_dist position, and the clusters to be merged.","category":"page"},{"location":"aggreg/#find_clusters!","page":"Aggreg.jl","title":"find_clusters!","text":"","category":"section"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"Function calling the necessary functions for the data aggregation procedure (to be enveloped in a loop with the necessary conditions, e.g., while nclusters > stopping_k).","category":"page"},{"location":"aggreg/#compute_dist!","page":"Aggreg.jl","title":"compute_dist!","text":"","category":"section"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"Compute the distances between two matrices (seriescomp and kcent_comp).","category":"page"},{"location":"aggreg/#update_marker","page":"Aggreg.jl","title":"update_marker","text":"","category":"section"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"Update the clusters assignment (Bool marker indicating which positions are to be merged).","category":"page"},{"location":"aggreg/#replace_lines","page":"Aggreg.jl","title":"replace_lines","text":"","category":"section"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"Replace lines of a matrix/vector by another matrix/vector with the same number of columns than the original matrix/vector.","category":"page"},{"location":"aggreg/#update_clust!","page":"Aggreg.jl","title":"update_clust!","text":"","category":"section"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"Updates clusters attributes in the _ClustInstance object.","category":"page"},{"location":"aggreg/#update_k!","page":"Aggreg.jl","title":"update_k!","text":"","category":"section"},{"location":"aggreg/","page":"Aggreg.jl","title":"Aggreg.jl","text":"Updates number of clusters in the _SeriesInstance object.","category":"page"},{"location":"api/#API","page":"API","title":"API","text":"","category":"section"},{"location":"api/#Model","page":"API","title":"Model","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"EnergySystemModel\nSpecs\nParams\nVariables\nObjectives\nVariables(::EnergySystemModel)\nObjectives(::EnergySystemModel)\nEnergySystemModel(::Params, ::Specs)","category":"page"},{"location":"api/#EnergySystemModeling.EnergySystemModel","page":"API","title":"EnergySystemModeling.EnergySystemModel","text":"Define energy system model type as JuMP.Model.\n\n\n\n\n\n","category":"type"},{"location":"api/#EnergySystemModeling.Specs","page":"API","title":"EnergySystemModeling.Specs","text":"Specifation for which constraints to include to the model. Constraints that are not specified are included by default.\n\nArguments\n\nrenewable_target::Bool: Whether to include renewables target constraint.\nstorage::Bool: Whether to include storage constraints.\nramping::Bool: Whether to include ramping constraints.\nvoltage_angles::Bool: Whether to include voltage angle constraints.\n\n\n\n\n\n","category":"type"},{"location":"api/#EnergySystemModeling.Params","page":"API","title":"EnergySystemModeling.Params","text":"Input indices and parameters for the model.\n\n\n\n\n\n","category":"type"},{"location":"api/#EnergySystemModeling.EnergySystemModel-Tuple{Params,Specs}","page":"API","title":"EnergySystemModeling.EnergySystemModel","text":"Creates the energy system model.\n\nArguments\n\nparameters::Params\nspecs::Specs\n\n\n\n\n\n","category":"method"},{"location":"api/#IO","page":"API","title":"IO","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"note: Note\nJSON stores multi-dimensional arrays as nested arrays. If we load an array a whose elements are accessed a[i, j, k], the elements of the nested array are accessed in reverse order a[k][j][i]. However, the function load_json converts the nested arrays back to multi-dimensional arrays.","category":"page"},{"location":"api/","page":"API","title":"API","text":"We use simple plain text formats CSV and JSON for input and output of numerical values.","category":"page"},{"location":"api/","page":"API","title":"API","text":"equivalent_annual_cost\nParams(::AbstractString)\nsave_json\nload_json","category":"page"},{"location":"api/#EnergySystemModeling.equivalent_annual_cost","page":"API","title":"EnergySystemModeling.equivalent_annual_cost","text":"Equivalent annual cost (EAC)\n\nArguments\n\ncost::Real: Net present value of a project.\nn::Integer: Number of payments.\nr::Real: Interest rate.\n\n\n\n\n\n","category":"function"},{"location":"api/#EnergySystemModeling.save_json","page":"API","title":"EnergySystemModeling.save_json","text":"Save object into JSON file.\n\nArguments\n\nobject\noutput_path::AbstractString: Full filepath, e.g., path.json.\n\n\n\n\n\n","category":"function"},{"location":"api/#EnergySystemModeling.load_json","page":"API","title":"EnergySystemModeling.load_json","text":"Load values to type from JSON file.\n\nArguments\n\ntype\nfilepath::AbstractString\n\n\n\n\n\n","category":"function"},{"location":"api/#Plotting","page":"API","title":"Plotting","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"plot_objective_values\nplot_generation_dispatch\nplot_generation_capacities\nplot_transmission_flow\nplot_transmission_capacities\nplot_storage_level\nplot_storage_capacities\nplot_loss_of_load","category":"page"},{"location":"api/#EnergySystemModeling.plot_objective_values","page":"API","title":"EnergySystemModeling.plot_objective_values","text":"Plot objective value and individual objective values.\n\n\n\n\n\n","category":"function"},{"location":"api/#EnergySystemModeling.plot_generation_dispatch","page":"API","title":"EnergySystemModeling.plot_generation_dispatch","text":"Plot generation dispatch.\n\n\n\n\n\n","category":"function"},{"location":"api/#EnergySystemModeling.plot_generation_capacities","page":"API","title":"EnergySystemModeling.plot_generation_capacities","text":"Plot generation capacities.\n\n\n\n\n\n","category":"function"},{"location":"api/#EnergySystemModeling.plot_transmission_flow","page":"API","title":"EnergySystemModeling.plot_transmission_flow","text":"Plot transmission flow.\n\n\n\n\n\n","category":"function"},{"location":"api/#EnergySystemModeling.plot_transmission_capacities","page":"API","title":"EnergySystemModeling.plot_transmission_capacities","text":"Plot transmission capacities.\n\n\n\n\n\n","category":"function"},{"location":"api/#EnergySystemModeling.plot_storage_level","page":"API","title":"EnergySystemModeling.plot_storage_level","text":"Plot storage level.\n\n\n\n\n\n","category":"function"},{"location":"api/#EnergySystemModeling.plot_storage_capacities","page":"API","title":"EnergySystemModeling.plot_storage_capacities","text":"Plot storage capacities.\n\n\n\n\n\n","category":"function"},{"location":"api/#EnergySystemModeling.plot_loss_of_load","page":"API","title":"EnergySystemModeling.plot_loss_of_load","text":"Plot loss of load.\n\n\n\n\n\n","category":"function"},{"location":"datageneration/#Data-generation","page":"Data generation","title":"Data generation","text":"","category":"section"},{"location":"datageneration/#Setup-and-data-generation-in-GlobalEnergyGIS","page":"Data generation","title":"Setup and data generation in GlobalEnergyGIS","text":"","category":"section"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"If the user wants to generate completely new instances, they first need to set up GlobalEnergyGIS: https://github.com/niclasmattsson/GlobalEnergyGIS . Especially important is the first part \"Setup and data generation\". This allows the user to create datasets of renewable energy independant of EnergySystemModeling. After the user set up their Copernicus account and downloaded the auxiliary datasets, rasterized them and downloaded ERA5 data, they can start generating their own instances in EnergySystemModeling.","category":"page"},{"location":"datageneration/#Run*data*generation.jl","page":"Data generation","title":"Rundatageneration.jl","text":"","category":"section"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"After the setup of GlobalEnergyGIS, the user can create a new instance by running the rundatageneration.jl file. ","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"The first thing the user has to do is to define the input values for the function","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"julia> create_data_sets(inputdata, sspscenario_input, sspyear_input, era_year_input, Dataset, folder, subfolder, instance, T, t, Fmin)","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"These input values are:","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"inputdata: Path to the output folder of GlobalEnergyGIS\nsspscenario_input: One of three scenarios: ssp1, ssp2 or ssp3. All are scenarios of projected socioeconomic global changes up to 2100. They are used to derive greenhouse gas emissions scenarios with different climate policies.\nsspyear_input: Target year of the model.\nerayearinput: Year of the ERA5 time series to be used in the model.\nDataset: Matrix of countries with their corresponding GADM name.\nfolder: Upper most folder where the instance is being generated.\nsubfolder: Lower level folder where the instance is being generated.\ninstance: Name of the instance.\nT: Time period in hours.\nt: Number of technologies considered in the instance.\nFmin: Minimum water flow for node n.","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"The country dataset gets generated by","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"julia> get_countries(Regions)","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"Where ","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"Regions: Vector with the country or region names that the user wants. Regions available are Nordics, Eastern, Western, Central, Mediterranian.","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"This takes the countries or regions specified by the user and turns them into a structure which GlobalEnergyGIS can recognize and on base of which it creates datasets of renewable energies.","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"The regions contain following countries:","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"Nordics: Finland, Sweden, Norway, Denmark","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"Eastern: Poland, Slovakia, Hungary, Lithuania, Latvia, Estonia","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"Western: France, United Kingdom, Ireland, Netherlands, Belgium, Luxembourg ","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"Central: Germany, Austria, Switzerland, Czech Republic","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"Mediterranian: Spain, Portugal, Italy, Greece, Croatia, Malta, Albania, Bosnia and Herzegovina","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"If the user does not specify any set of countries or regions, he will get an instance for whole Europe: ","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"julia> get_countries()","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"This includes all of the following countries:","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"Albania, Armenia, Austria, Azerbaijan, Belarus, Belgium, Bosnia and Herzegovina, Bulgaria, Croatia, Cyprus, Czech Republic, Denmark, Estonia, Finland, France, Germany, Greece, Hungary, Iceland, Ireland, Italy, Kosovo, Latvia, Lithuania, Luxembourg, Malta, Moldova, Montenegro, Netherlands, North Macedonia, Norway, Poland, Portugal, Romania, Russia, Serbia, Slovakia, Slovenia, Spain, Sweden, Switzerland, Turkey, Ukraine, United Kingdom","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"The instance itself is then created by: ","category":"page"},{"location":"datageneration/","page":"Data generation","title":"Data generation","text":"julia> create_data_sets(inputdata, sspscenario_input, sspyear_input, era_year_input, Dataset, folder, subfolder, instance, T, t, Fmin)","category":"page"},{"location":"plotting/#Plotting","page":"Plotting","title":"Plotting","text":"","category":"section"},{"location":"plotting/","page":"Plotting","title":"Plotting","text":"using EnergySystemModeling\nspecs = load_json(Specs, joinpath(\"output\", \"specs.json\"))\nparameters = load_json(Params, joinpath(\"output\", \"parameters.json\"))\nvariables = load_json(Variables, joinpath(\"output\", \"variables.json\"))\nobjectives = load_json(Objectives, joinpath(\"output\", \"objectives.json\"))\nnothing; #hide","category":"page"},{"location":"plotting/#Objectives","page":"Plotting","title":"Objectives","text":"","category":"section"},{"location":"plotting/","page":"Plotting","title":"Plotting","text":"plot_objective_values(objectives)","category":"page"},{"location":"plotting/#Generation-Dispatch","page":"Plotting","title":"Generation Dispatch","text":"","category":"section"},{"location":"plotting/","page":"Plotting","title":"Plotting","text":"n = 1\nplot_generation_dispatch(parameters, variables, n)","category":"page"},{"location":"plotting/#Generation-Capacities","page":"Plotting","title":"Generation Capacities","text":"","category":"section"},{"location":"plotting/","page":"Plotting","title":"Plotting","text":"plot_generation_capacities(parameters, variables, n)","category":"page"},{"location":"plotting/#Loss-of-Load","page":"Plotting","title":"Loss of Load","text":"","category":"section"},{"location":"plotting/","page":"Plotting","title":"Plotting","text":"plot_loss_of_load(parameters, variables)","category":"page"},{"location":"plotting/#Transmission-Flow","page":"Plotting","title":"Transmission Flow","text":"","category":"section"},{"location":"plotting/","page":"Plotting","title":"Plotting","text":"l = 1\nplot_transmission_flow(parameters, variables, l)","category":"page"},{"location":"plotting/#Transmission-Capacities","page":"Plotting","title":"Transmission Capacities","text":"","category":"section"},{"location":"plotting/","page":"Plotting","title":"Plotting","text":"plot_transmission_capacities(parameters, variables)","category":"page"},{"location":"plotting/#Storage-Level","page":"Plotting","title":"Storage Level","text":"","category":"section"},{"location":"plotting/","page":"Plotting","title":"Plotting","text":"plot_storage_level(parameters, variables, n)","category":"page"},{"location":"plotting/#Storage-Capacities","page":"Plotting","title":"Storage Capacities","text":"","category":"section"},{"location":"plotting/","page":"Plotting","title":"Plotting","text":"plot_storage_capacities(parameters, variables, n)","category":"page"},{"location":"#Energy-System-Modeling","page":"Home","title":"Energy System Modeling","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Mathematical reference for the energy system model. The model presented here is based on the model in [1]. We express units of parameters and variables using square brackets. In our code, we implement the model as EnergySystemModel(::Params, ::Specs) method, which constructs an EnergySystemModel instance.","category":"page"},{"location":"","page":"Home","title":"Home","text":"The model considers that each time period might encompass varaible number of hours, as a result of using input data that has been clustered. Otherwise, each time period refers to one hour.","category":"page"},{"location":"#Indices-and-Sets","page":"Home","title":"Indices and Sets","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Indices and sets define the different objects and dimensions in the model.","category":"page"},{"location":"","page":"Home","title":"Home","text":"gG: Generation technologies\nG^rG: Renewable generation technologies\nnN: Nodes\nlL: Transmission lines, refers to a pair of nodes (ij) where ijN\ntT: Time periods\nsS: Storage technologies","category":"page"},{"location":"#Parameters","page":"Home","title":"Parameters","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"General parameters","category":"page"},{"location":"","page":"Home","title":"Home","text":"Îº01: Fraction of the demand that must be met by renewable generation\nÎ¼: Maximum allowed share of nuclear power\nC: Shedding cost [â‚¬/MWh]\nbarC: Shedding capacity [MWh]\nC_E: Minimum percentage of emission reduction needed compared to base year 1990\nÏ„_t: Number of hours clustered in time period t [h]\nD_nt: Demand per node n per time period t [MWh]\nr0: Interest rate\nR_E: Carbon emissions in the Reference year 1990","category":"page"},{"location":"","page":"Home","title":"Home","text":"Generation technology parameters","category":"page"},{"location":"","page":"Home","title":"Home","text":"I_g^G: Annualised investment cost for generation per MW of technology g [â‚¬/MW]. Calculated as I_g^G=EAC(c_g t_g r) where c_g is the cost and t_g is lifetime of technology g.\nM_g^G: Annualised maintenance cost for generation per MW of technology g [â‚¬/MW]\nC_g^G: Operational cost per MWh of technology g [â‚¬/MWh]. Calculated as c_gc_g1000 where c_g is fuel cost 1 and c_g fuel cost 2 of technology g\ne_g: Technology efficiency\nE_g: Technology emissions\nr_g^-: Relative ramp-down limit of technology g\nr_g^+: Relative ramp-up limit of technology g\nQ_gn: Initial capacity [MW]\nA_gnt01: Availability of technology g per node n at time step t","category":"page"},{"location":"","page":"Home","title":"Home","text":"Hydro power parameters","category":"page"},{"location":"","page":"Home","title":"Home","text":"W_nmax: Maximum storage level of hydro reservoir in node n [MWh]\nW_nmin: Minimum storage level of hydro reservoir in node n [MWh]\nf_int: Hydro inflow to reservoirs in node n during time step t [MWh]\nf_int: Hydro inflow to run-of-river plants in node n during time step t [MWh]\nH_n: Hydro reservoir generation capacity in node n [MW]\nH_n: Hydro run-of-river generation capacity in node n [MW]\nF_onmin: Minimum environmental flow requirement [MWh]","category":"page"},{"location":"","page":"Home","title":"Home","text":"Transmission parameters","category":"page"},{"location":"","page":"Home","title":"Home","text":"I_l^F: Annualised investment cost for transmission per line l [â‚¬/MW]. Calculated as I_l^F=EAC(c_ld_l + M_l^F t_l r) where c_l is cost per kilometer and d_l distance in kilometers, t_l the lifetime of transmission line l\nM_l^F: Annualised maintenance cost for transmission per line l [â‚¬/MW]\nC_l^F: Transmission cost per line l [â‚¬/MWh]\nB_l: Susceptance per line l\ne_l: Transmission efficiency per line l","category":"page"},{"location":"","page":"Home","title":"Home","text":"Storage parameters","category":"page"},{"location":"","page":"Home","title":"Home","text":"I_s^S: Annualised investment cost of storage technology s per MW [â‚¬/MW]. Calculated as I_s^S=EAC(c_s t_s r) where c_s is the (upfront) investment cost and t_s the lifetime of storage s\nÎ¾_s: Round-trip efficiency of storage technology s\nC_s^S: Storage operational cost of storage technology s [â‚¬/MWh]\nb_sn^0: Initial capacity of storage s at node n [MWh]","category":"page"},{"location":"","page":"Home","title":"Home","text":"Remarks:","category":"page"},{"location":"","page":"Home","title":"Home","text":"In the code, we store both indices and parameters in the Params struct. \nAll annualized costs are calculated using equivalent annual cost (EAC) given by","category":"page"},{"location":"","page":"Home","title":"Home","text":"EAC(crn) = fracca_nrquad a_nr = frac1-(1+r)^-nrquad a_n0=n","category":"page"},{"location":"","page":"Home","title":"Home","text":"where c is the net present cost of the project, n is the number of periods, and r is the interest rate.","category":"page"},{"location":"#Variables","page":"Home","title":"Variables","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Generation technology variables","category":"page"},{"location":"","page":"Home","title":"Home","text":"p_gnt0: Dispatch from technology g at node n in each time step t [MWh]\nbarp_gn0: Generation capacity invested in each technology g at node n [MW]","category":"page"},{"location":"","page":"Home","title":"Home","text":"Hydro power variables","category":"page"},{"location":"","page":"Home","title":"Home","text":"w_nt0: Hydro reservoir storage level in node n during time step t [MWh]\nf_ont0: Hydro outflow from reservoirs in node n during time step t [MWh]\nf_ont0: Hydro outflow trough the turbine in node n during time step t [MWh]\nf_ont0: Hydro outflow bypassing the turbine in node n during time step t [MWh]\nh_nt0: Hydro generation in node n during time step t [MWh]\nh_nt0: Hydro run-of-river generation in node n during time step t [MWh]","category":"page"},{"location":"","page":"Home","title":"Home","text":"Shedding variables","category":"page"},{"location":"","page":"Home","title":"Home","text":"Ïƒ_nt0: Loss of load at node n in each time step t [MWh]","category":"page"},{"location":"","page":"Home","title":"Home","text":"Transmission variables","category":"page"},{"location":"","page":"Home","title":"Home","text":"f_lt: Transmission flow per line l in each time step t [MWh]\nf^abs_lt: Absolute value of transmission flow per line l in each time step t [MWh]\nbarf_l: Transmission capacity per line l [MW]","category":"page"},{"location":"","page":"Home","title":"Home","text":"Storage variables","category":"page"},{"location":"","page":"Home","title":"Home","text":"b_snt0: Storage level of storage s at node n in each time step t [MWh]\nbarb_sn0: Storage capacity of storage s at node n [MWh]\nb_snt^+0: Charging of storage s at node n in each time step t [MWh]\nb_snt^-0: Discharging of storage s at node n in each time step t [MWh]","category":"page"},{"location":"","page":"Home","title":"Home","text":"Voltage angle variables","category":"page"},{"location":"","page":"Home","title":"Home","text":"Î¸_nt0: Voltage angle at node n in each time step t\nÎ¸_nt0: Voltage angle at node n in each time step t","category":"page"},{"location":"","page":"Home","title":"Home","text":"We use Variables struct to store the variable values after optimization. We can query the values from the model using Variables(::EnergySystemModel) method.","category":"page"},{"location":"#Objective","page":"Home","title":"Objective","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"We define the objective as cost minimization","category":"page"},{"location":"","page":"Home","title":"Home","text":"mathrmminimize_p_gt barp_g Ïƒ_t f_lt barf_l b_snt^+ b_snt^- (f_1 +  + f_7)","category":"page"},{"location":"","page":"Home","title":"Home","text":"The individual objectives are defined as follows.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Investment and maintenance cost of generation capacity","category":"page"},{"location":"","page":"Home","title":"Home","text":"f_1=sum_gn (I_g^G+M_g^G)barp_gn tagf1","category":"page"},{"location":"","page":"Home","title":"Home","text":"The operational cost of generation dispatch","category":"page"},{"location":"","page":"Home","title":"Home","text":"f_2=sum_gnt C_g^G p_gtn Ï„_t tagf2","category":"page"},{"location":"","page":"Home","title":"Home","text":"Shedding cost","category":"page"},{"location":"","page":"Home","title":"Home","text":"f_3=sum_nt C Ïƒ_nt Ï„_t tagf3","category":"page"},{"location":"","page":"Home","title":"Home","text":"Investment and maintenance cost of transmission capacity","category":"page"},{"location":"","page":"Home","title":"Home","text":"f_4=sum_l (I_l^F+M_l^F) barf_l tagf4","category":"page"},{"location":"","page":"Home","title":"Home","text":"The operational cost of transmission flow","category":"page"},{"location":"","page":"Home","title":"Home","text":"f_5=sum_lt C_l^F f^abs_lt Ï„_t tagf5","category":"page"},{"location":"","page":"Home","title":"Home","text":"Investment cost of storage capacity","category":"page"},{"location":"","page":"Home","title":"Home","text":"f_6=sum_sn I_s^S barb_sn tagf6","category":"page"},{"location":"","page":"Home","title":"Home","text":"The operational cost of storage","category":"page"},{"location":"","page":"Home","title":"Home","text":"f_7=sum_snt C_s^S (b_snt^++b_snt^-) Ï„_t tagf7","category":"page"},{"location":"","page":"Home","title":"Home","text":"We use Objectives struct to store the objetive values after optimization. We can query the values from the model using Objectives(::EnergySystemModel) method.","category":"page"},{"location":"#Constraints","page":"Home","title":"Constraints","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"In this section, we list all the constraints in the energy system model and explain their function. Each constraint is named in the code using the equation labels. We can then access the individual constraints using the standard JuMP syntax, for example, model[:b1].","category":"page"},{"location":"","page":"Home","title":"Home","text":"We use the Specs struct to control whether we include certain constraints in the model.","category":"page"},{"location":"#Balance","page":"Home","title":"Balance","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Transmission lines to node n","category":"page"},{"location":"","page":"Home","title":"Home","text":"L_n^-=lLiN(in)=l","category":"page"},{"location":"","page":"Home","title":"Home","text":"Transmission lines from node n","category":"page"},{"location":"","page":"Home","title":"Home","text":"L_n^+=lLjN(nj)=l","category":"page"},{"location":"","page":"Home","title":"Home","text":"Energy balance","category":"page"},{"location":"","page":"Home","title":"Home","text":"sum_g p_gnt + Ïƒ_nt + sum_lL_n^- e_l f_l^-t - sum_lL_n^+ e_l f_l^+t + sum_lL_n^-(Î¾_s b^-_snt - b^+_snt )+ h_nt =  D_ntquad snt tagb1","category":"page"},{"location":"#Generation","page":"Home","title":"Generation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Generation capacity","category":"page"},{"location":"","page":"Home","title":"Home","text":"p_gnt  A_gnt (Q_gn + barp_gn)  quad gnt tagg1","category":"page"},{"location":"","page":"Home","title":"Home","text":"Q_gn + barp_gn   barQ_gn  quad gn tagg2","category":"page"},{"location":"","page":"Home","title":"Home","text":"Minimum renewables share","category":"page"},{"location":"","page":"Home","title":"Home","text":"sum_gG^rnt p_gnt  + sum_nt h_nt  Îº sum_gG^rnt p_gnt  + sum_nt h_nt tagg3","category":"page"},{"location":"","page":"Home","title":"Home","text":"Maximum nuclear share","category":"page"},{"location":"","page":"Home","title":"Home","text":"sum_nNt p_gnt  Î¼sum_gG^rnt p_gnt + sum_nNt h_nt tagg4","category":"page"},{"location":"","page":"Home","title":"Home","text":"Carbon cap","category":"page"},{"location":"","page":"Home","title":"Home","text":"sum_g E_g sum_nNt fracp_gnte_g  R_E (1 - C_E) tagg5","category":"page"},{"location":"#Shedding","page":"Home","title":"Shedding","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Shedding upper bound","category":"page"},{"location":"","page":"Home","title":"Home","text":"Ïƒ_nt  barC D_nt quad nt tagg6","category":"page"},{"location":"#Transmission","page":"Home","title":"Transmission","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Transmission capacity","category":"page"},{"location":"","page":"Home","title":"Home","text":"f_lt   barf_lquad lt tagt1","category":"page"},{"location":"","page":"Home","title":"Home","text":"f_lt  -barf_lquad lt tagt2","category":"page"},{"location":"","page":"Home","title":"Home","text":"These auxiliary constraints  are used to capture the absolute value of the transmission for the objective function.","category":"page"},{"location":"","page":"Home","title":"Home","text":"f^abs_lt  f_ltquad lt tagt3","category":"page"},{"location":"","page":"Home","title":"Home","text":"f^abs_lt  -f_ltquad lt tagt4","category":"page"},{"location":"#Storage","page":"Home","title":"Storage","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Storage capacity","category":"page"},{"location":"","page":"Home","title":"Home","text":"b_sntbarb_snquad snt tags1","category":"page"},{"location":"","page":"Home","title":"Home","text":"Discharge at t=1","category":"page"},{"location":"","page":"Home","title":"Home","text":"b_snt^-b_sn^0quad snt=1 tags2","category":"page"},{"location":"","page":"Home","title":"Home","text":"Discharge at t1","category":"page"},{"location":"","page":"Home","title":"Home","text":"b_snt^-b_snt-1quad snt1 tags3","category":"page"},{"location":"","page":"Home","title":"Home","text":"Charge","category":"page"},{"location":"","page":"Home","title":"Home","text":"Î¾_sb_snt^+barb_sn - b_sntquad snt tags4","category":"page"},{"location":"","page":"Home","title":"Home","text":"Storage levels","category":"page"},{"location":"","page":"Home","title":"Home","text":"b_snt=b_snt-1 + Î¾_s b_snt^+ - b_snt^-quad snt1 tags5","category":"page"},{"location":"","page":"Home","title":"Home","text":"Storage continuity","category":"page"},{"location":"","page":"Home","title":"Home","text":"b_snt=1 = b_snt=t_endquad sn tags6","category":"page"},{"location":"#Ramping-Limits","page":"Home","title":"Ramping Limits","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Ramping limit up and down","category":"page"},{"location":"","page":"Home","title":"Home","text":"p_gnt - p_gnt-1  r_g^+(Q_gn + barp_gn) quad gnt1 tagr1","category":"page"},{"location":"","page":"Home","title":"Home","text":"p_gnt - p_gnt-1  -r_g^-(Q_gn + barp_gn) quad gnt1 tagr2","category":"page"},{"location":"#Voltage-Angles","page":"Home","title":"Voltage Angles","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Faraday law for accounting voltage angles","category":"page"},{"location":"","page":"Home","title":"Home","text":"(Î¸_nt - Î¸_nt) B_l = p_gnt - p_gnt quad glnnt1 tagv1","category":"page"},{"location":"#Hydro-energy","page":"Home","title":"Hydro energy","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Reservoir level bounds","category":"page"},{"location":"","page":"Home","title":"Home","text":"W_nmin  w_nt  W_nmaxquad nt tagh1","category":"page"},{"location":"","page":"Home","title":"Home","text":"Reservoir levels","category":"page"},{"location":"","page":"Home","title":"Home","text":"w_nt = w_nt-1 + f_int-1 - f_ont-1quad nt1 tagh2","category":"page"},{"location":"","page":"Home","title":"Home","text":"Reservoir level continuity","category":"page"},{"location":"","page":"Home","title":"Home","text":"w_nt=1 = w_nt=t_endquad n tagh3","category":"page"},{"location":"","page":"Home","title":"Home","text":"Outflow balance","category":"page"},{"location":"","page":"Home","title":"Home","text":"f_ont = f_ont + f_ontquad nt tagh4","category":"page"},{"location":"","page":"Home","title":"Home","text":"Environmental flow requirement","category":"page"},{"location":"","page":"Home","title":"Home","text":"f_ont  F_ominquad nt tagh5","category":"page"},{"location":"","page":"Home","title":"Home","text":"Reservoir generation (turbine capacity for outflow)","category":"page"},{"location":"","page":"Home","title":"Home","text":"0  f_ont  H_nquad nt tagh6","category":"page"},{"location":"","page":"Home","title":"Home","text":"Run-of-river generation (available inflow and capacity)","category":"page"},{"location":"","page":"Home","title":"Home","text":"0  h_nt  f_intquad nt tagh7","category":"page"},{"location":"","page":"Home","title":"Home","text":"0  h_nt  H_nquad nt tagh8","category":"page"},{"location":"","page":"Home","title":"Home","text":"Hydro generation balance","category":"page"},{"location":"","page":"Home","title":"Home","text":"h_nt = h_nt + f_ontquad nt tagh9","category":"page"},{"location":"#Instances","page":"Home","title":"Instances","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Users can provide input parameters for different instances as a directory containing CSV and JSON files, and also include a README file, which describes the instance. Users can distribute instances as .zip archives. We provide an example instance in examples/instance as a reference. We describe the input format in Params(::AbstractString).","category":"page"},{"location":"","page":"Home","title":"Home","text":"We can write Specs, Params, Variables, and Objectives structs into JSON files using save_json and read them from JSON files using load_json.","category":"page"},{"location":"#References","page":"Home","title":"References","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"[1]: Pineda, S., & Morales, J. M. (2018). Chronological time-period clustering for optimal capacity expansion planning with storage. IEEE Transactions on Power Systems, 33(6), 7162â€“7170. https://doi.org/10.1109/TPWRS.2018.2842093","category":"page"}]
}
